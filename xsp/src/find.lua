
--获取通关妖气发现时，纸片人的宝箱
function findReward () 

  local x, y = findMultiColorInRegionFuzzy(0xaf421d,"22|-14|0xfff4d4,-22|-13|0xfff4d4,-22|18|0xfff4d4,22|19|0xfff4d4,-7|88|0xdfd6c6",90,590,543,1646,1225);
  if x ~= -1 and y ~= 1 then  --如果找到符合条件的点
		tap(x, y);
		mSleep(500);
		tap(1888, 888);
		mSleep(1000);
		
		--找下一个宝箱
		findReward();
  end
end

--在探索页面， 找到对应的章节并进入
function findChapter (chapter)
	local lines = {};
	--第一章   0xf8f3e0-0x333333
	lines[1] = "00E0781F0FC3F0FC3F03E07C07F0FC1C0300E00800000020FC3EBF0FC1F01E01C03C07F1FE3CC701C018030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C01C0380700FE3FC781F0FC1F81F01E0180304FF9FF3FE78CE098330600C0180300600C0180300600C018$第一章$0.0.1122$47";
	--第二章		
	lines[2] = "00E0381F07C3F0FC3F03E07C07F0FE1C0380600800000020FC3E3F0FC1F01E01C03C07F0FE3CC701C018030000000000000000000000000000000000000000000000000000000000000000080300600C0180700E01C0380F01E03C0780F01E01C01000000000000000000000000000000000000000000000000000000000000000000000000000000000C01C0380780FE1FC781F0FC1F81F01E01C03847F9FF3FE78CE09C130200C0180300600C0180300600C018$第二章$0.0.1220$47";
	--第三章
	lines[3] = "00E03C1F07C3F0FC3F03E07E07F0FE1C0380600800000020FC3E3F0FC1F01E01C03C07F0FE1CC701E018030000000000000000000000000000000000000000000000000000000000000000700F03E07C0F81F03E07C0F81F03E0FC1F83E07C0700C000000000000000000000000000000000000000000000000000000000000000000000000000000000C01C0380780FE1FC781F0FE1FC1F81E01C03847F9FF3F6784E09C1382004008010020040080300600C008$第三章$0.0.1289$47";
	--第四章
	lines[4] = "00E03C1F07C3F0FC3F83E03E07F0FE1C0380700800000020FC3E1F07C1F01E01C03C07F0FE1CE701E01803000000000000000000000000000000000000020040080000000000000000004008010020040080100600C0180300600C0180300600C0180300600C0180300600C0180300600C00800000000000000000000000000000000000000000000000C01C0380780FE1FC781F0FE1FC1F81F01C03847F9FF3F6784E09C1382004008010020040080300600C008$第四章$0.0.1476$47";
	--第五章
	lines[5] = "00E0381F07C3F0FC3F03E07E07F0FE1C0380600800000020FC3E3F0FC1F01E01C03C07F0FE1CC701E018030000000000000000000000000000000000000000000000000000000000000000F01F03E07C0F81F03E07C0F81F07E0FC1F83F0FC1F03E07C070000000000000000000000000000000000000000000000000000000000000000000000000000C01C0380780FE1FC781F0FE1F81F81E01C03847F9FF3FE784E09C13020040080100200C0180300600C008$第五章$0.0.1449$47";
	--第六章
	lines[6] = "00E03C1F07C3F0FC3F83E03E07F0FE1C0380700800000020FC3E1F07C1F01E01C03C07F0FE1CE701E01803000000000000000000000000000000000000000000000000000000000000000000000000601E03E07E07C0F80700E0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C01C0380780FE1FC781F0FE1FC1F81F01C03847F9FF3F6784E09C1382004008010020040080300600C008$第六章$0.0.1296$47";
	--第七章
	lines[7] = "00E03C1F07C3F0FC3F83F03E07F0FE1C0380700800000020FC3E1F07C1F01E01C03C07F0FE1CE700E01801000000000000000000000000000000000000000000000000000000000000000000000000000801C07E07C0F80F00E0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C01C0380780FE1FC381F0FE1FC0F81F01C03847F9FF3F6784E09C13820040080100200400801006004008$第七章$0.0.1317$47";
	--第八章
	lines[8] = "00E03C1F07C3F0FC3F83F03E07F0FE1C0380700800000020FC3E1F87C1F01E01C03C07F0FE1CE700E018010000000000000000000000000000000000000000000000000000000000000000000000000000000002004008010020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C01C0380780FE1FC3C1F0FE1FC0F81F01C03847F8FF3F6784E09C13820040080100200400801006004008$第八章$0.0.1192$47";
	--第九章
	lines[9] = "00E0781F0FC3F0FC3F03E07C07F0FC1C0380E00800000020FC3EBF0FC1F01E01C03C07F0FE3CC701C01803000000000000000000000000000000000000000000000000000000000000000000000000040F83F0FE0FC1F8000000000000100600C01803002000000000000000000000000000000000000000000000000000000000000000000000000000C01C0380700FE1FC781F0FC1F81F01E01803047F9FF3FE78CE09C130600C0180300600C0180300600C018$第九章$0.0.1382$47";
	--第十章
	lines[10] = "00E0381F07C3F0FC3F03E07C07F0FE1C0380600800000020FC3E3F0FC1F01E01C03C07F0FE3CC701C0180300000000000000000000000000000000000000000000000000000000000000000000000000000000000007F8FF1FE1FC1F00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C01C0380780FE1FC781F0FC1F81F01E01C03847F9FF3FE78CE09C130200C0180300600C0180300600C018$第十章$0.0.1250$47";
	--第十一章
	lines[11] = "00E0781F0FC3E1FC3F03E03E07F8F01C0380600000010060FC7C3F0FC1F00E01C03E07F0F61C4700C0180000000000000000000000000000000000000000000000000000000000000000000000000000000000001807F8FF0FE1FC0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700E01C03F87F1F03C3F87E07E07C0F00C11E67FCFF9F3382704E08010020040080100200C01803002$第十一章$0.0.1391$47";
	--第十二章
	lines[12] = "00E07C1F0FC3F1FC3F03E03E07F8F01C0380600000010060FC7C3F0FC1F00E01C03E07F0F61C4700E0180000000000000000000000000000000000000000000000000000000000000000000000000000000000001807F8FF0FE0FC0800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040180300600C0380700E01C0380F01E03C0780700E00000000000000000000000000000000000000000000000000000000000000000000000000000000000700E01E03F87F0F03C3F87F07E07C0F00E11E67FCFF9F1382704E08010020040080100200C01803002$第十二章$0.0.1508$48";
	--第十三章
	lines[13] = "00E07C1F0FC3F0FC1F83E03E07F8F01C0380700000000060FC7C3F0FC1F00E01C03E07F0F61C4700E0180100000000000000000000000000000000000000000000000000000000000000000000000000000000001807F8FF0FE0FC08000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000803C0781F03E07C0F81F03E07C0F81F07E0FC1F01C03800000000000000000000000000000000000000000000000000000000000000000000000000000000000700E01E03F87F0F03C3F87F07E07C0700E11E63FCFF9F1382704E08010020040080100200401801002$第十三章$0.0.1565$48";
	--第十四章
	lines[14] = "00E07C1F0FC3F0FC1F83E03E07F8F01C0380700000000060FC3C3F07C1F00E01E03E07F0F61C4700E0180100000000000000000000000000000000000000000000000000000000000000000000000000000000001807F8FF0FE0FC080000000000000000000000000000000000000000000000000000000000000000000010020000000000000000001002004008010020040080100200C0180300600C0180300600C018030060040080100600C0180300200000000000000000000000000000000000000000000000000700E01E03F07F0F03C1F87F07E07C0700E11E63FCFF9F1382704E08010020040080100200401801002$第十四章$0.0.1731$48";
	--第十五章
	lines[15] = "00201C0F83E1F87E1F83F07E07E0FF1E0380700E000000000C1F8787E0F81E01C03C07C0FE1EE388E01C038000000000000000000000000000000000000000000000000000000000000000000000000000000000000300FF1FE1FC1F80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100F81F03E07C0F81F03E07C0F81F03E07C1F83F0FC1F03E07C000000000000000000000000000000000000000000000000000000000000000000000000000000E01C03C07E0FE1E0783F0FE07C0F80E01C03CC7F8FF3E2784E09C10020040080100200400801002004$第十五章$0.0.1708$48";
	--第十六章
	lines[16] = "0040381F07C3F0FC3F07E0FC0FC0FE3C0700E01C000000201C3F8F1FC1F03E03C1780F81FC3DC711C038070000000000000000000000000000000000000000000000000000000000000000000000000000000000000201FF1FE3FC3F8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400E01E03F07E0FC0780F0020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001C0380780FD1FE3C4F07E0FC0F81F01C118279CFF9FF7C6F0DC1B8300600C0180300600C0180300600C$第十六章$0.0.1558$47";
	--第十七章
	lines[17] = "0040381F07C3F0FC3F07E07C0FC0FE1C0700E01C000000201C3F8F87E1F03E03C0780F81FE3DC710E038030000000000000000000000000000000000000000000000000000000000000000000000000000000000000201FF1FE3FC3F8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001C03F07E0FC0F80F0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C03C0780FD1FE3C4F07E0FC0F81F01E118279CFF9FF3C6F0DC1B8300600C0180300600C0180300600C$第十七章$0.0.1580$47";
	--第十八章
	lines[18] = "0040181F07C1F07C3F07E07C0FC0FE1C0780E01C000000201C3F8F87E1F03E03C03807C1FE3DC710E038030000000000000000000000000000000000000000000000000000000000000000000000000000000000000201FF1FE3FC3F8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600C018030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C01C0380FD1FE3C4F87E0FC0F81F01E018238CFF9FF3E670DC198300600C0180300600C0180300600C$第十八章$0.0.1469$47";
	
	local dict = createOcrDict(lines);
	for tmpi=1,5 do
		local point = ocrText(dict, 1902,260,2162,1118, {"0xf8f3e0-0x333333"}, 95, 1,0);
		if next(point) then
			local x, y = point[1].x, point[1].y;
			tap(x, y);
			return;
		else
			swip(2043,1080, 2031,282);
			mSleep(500);
		end  
  end
end